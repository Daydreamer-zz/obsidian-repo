## 1.重点关注的字段

例如

```mysql
mysql> desc select * from renren_shop_goods where shop_id = 1\G
*************************** 1. row ***************************
           id: 1
  select_type: SIMPLE
        table: renren_shop_goods
   partitions: NULL
         type: ref
possible_keys: idx_shop_id
          key: idx_shop_id
      key_len: 4
          ref: const
         rows: 1
     filtered: 100.00
        Extra: NULL
1 row in set, 1 warning (0.00 sec)
```

- table:      查询操作的表
- possible_keys:    可能会走的索引
- key：      真正走的索引
- type:        索引类型
- Extra:      额外信息

## 2.type详解

type有可能出现：ALL、INDEX、RANGE、REF等

- all：全表扫描

  注意：生产环境几乎没有这种需求，尽量避免

- index：全索引扫描

  需要获取整个索引列的值，生产中几乎也没有这种需求

- range：索引范围扫描

  select范围查询

  1) <   >  >=  <=
  2) in    or
  3) between    and
  
- ref：辅助索引的等值查询

  带有明显的where = 条件

- eq_ref：多表连接查询中，连接条件是主键或者唯一键的时候

- system,const：主键或者唯一键，等值查询

  使用主键索引作为查询条件

- null：索引中不包含查询的值，即查询结果为空。

## 3.索引建立的原则
1. **选择唯一性索引**
  唯一性索引的值是唯一的，可以更快速的通过该索引来确定某条记录，主键索引和唯一键索引，在查询中使用是效率最高的。
  **注意**：如果重复值较多，可以考虑采用联合索引

2. **为经常需要排序、分组和联合操作的字段建立索引**
  经常需要order by、group by、join on等操作的字段，排序操作会浪费很多时间，如果为其建立索引，可以有效避免排序操作。
3. **为常作为where查询条件的字段建立索引**
  如果某个字段经常用来做查询条件，那么该字段的查询速度会影响整个表的查询速度。因为，为这样的字段建立索引，可以提高整个表的查询速度。
  **注意**：如果经常作为条件的列，重复值特别多，可以建立联合索引
4. **尽量使用前缀来索引**
  如果索引字段的值很长，最好使用值的前缀来索引。例如：TEXT和BLOG类型的字段，进行全文检索会浪费时间。如果只检索字段的前面的若干个字符，这样可以提高检索速度。
5. 限制索引的数目
  索引的数目不是越多越好，每个索引都需要占用磁盘空间，索引越多，需要的磁盘空间就越大。修改表时，为索引的重构和更新很麻烦，越多的索引，会使更新表变得很浪费时间。
6. 删除不再使用或者很少使用的索引(percona toolkit)
  表中的数据被大量更新，或者数据的使用方式被改变后，原有的一些索引可能不再需要。DBA应当定期找出这些索引，将他们删除，从而减少索引对更新操作的影响
7. 大表加索引，要在业务不繁忙期间操作
8. 少在经常更新值的列上建立索引